<div class="cartscreen">
    <div class="cartscreen_left">
        <h2>Shopping Cart</h2>
        <div class="cartscreen_item">
            <% for(let i=0; i < cart.length; ++i) { %>
                <% for(let j = 0; j < data_db.length; ++j) { %>
                    <% if (cart[i].id == data_db[j]._id) { %>
                        <div class="cartscreen_item_image">
                            <img src="<%= data_db[j].image %>" alt="<%= data_db[j].name %>">
                        </div>
                        <a href="/product/<%= data_db[i]._id %>" class="cartscreen_item_name">
                            <p><%= data_db[j].name %></p>
                        </a>
                        <p class="cartscreen_item_price">$<%= data_db[j].price %></p>
                        <p class="cart_item_qty"><%= cart[i].qty %></p>
                    <% } %>
                <% } %>
            <% } %>
        </div>
    </div>

    <div class="cartscreen_right">
        <div class="cartscreen_info">
            <% let total_price = 0; %>
            <% for(let i=0; i < cart.length; ++i) { %>
                <% for(let j = 0; j < data_db.length; ++j) { %>
                    <% if (cart[i].id == data_db[j]._id) { %>
                        <% total_price += (data_db[j].price * cart[i].qty); %>
                    <% } %>
                <% } %>
            <% } %>
            <p>Subtotal: $<%= Number(total_price).toFixed(2) %></p>
        </div>
        <div>
            <form action="/pay" method="post">
                <button>Pay</button>
            </form>
        </div>
    </div>
</div>